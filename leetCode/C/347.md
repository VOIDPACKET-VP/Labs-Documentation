---
platform: LeetCode
difficulty: Medium
date: 2026-02-24
---
# Description
- Given an integer array `nums` and an integer `k`, return _the_ `k` _most frequent elements_. You may return the answer in **any order**.

**Example 1:**
	**Input:** nums = [1,1,1,2,2,3], k = 2
	**Output:** [1,2]

**Example 2:**
	**Input:** nums = [1], k = 1
	**Output:** [1]

**Example 3:**
	**Input:** nums = [1,2,1,2,1,2,3,1,3,2], k = 2
	**Output:** [1,2]

# Solution
- C
```
typedef struct {
    int number;
    int freq;
} Number;

int compareFreq(const void *a, const void *b) {
    Number *freqA = (Number *)a;
    Number *freqB = (Number *)b;
    return (freqB->freq - freqA->freq);
}

int* topKFrequent(int* nums, int numsSize, int k, int* returnSize) {
    int* returnedArray;
    returnedArray = malloc(k * sizeof(int));
    if (returnedArray == NULL){
        return NULL;
    }
    int unique = 0;
    Number frequency[numsSize];

    for (int i = 0; i <= numsSize - 1; i++){
        bool found = false;
        for (int j = 0; j < unique; j++){
            if (frequency[j].number == nums[i]){
                frequency[j].freq++;
                found = true;
                break;
            }
        }
        if (!found) {
            frequency[unique].number = nums[i];
            frequency[unique].freq = 1;
            unique++;
        }
    }

    qsort(frequency, unique, sizeof(Number), compareFreq);
    for (int i = 0; i < k; i++){
        returnedArray[i] = frequency[i].number;
    }

    *returnSize = k;
    return returnedArray;
}
```
